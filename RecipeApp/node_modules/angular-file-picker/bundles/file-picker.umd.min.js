!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],t):t((e.ng=e.ng||{},e.ng.filePicker=e.ng.filePicker||{}),e.ng.core)}(this,function(e,t){"use strict";function i(e){return null!=e&&""+e!="false"}var n=function(){function e(e,t,i,n,r){this._lastModifiedDate=e,this._name=t,this._size=i,this._type=n,this._dataURL=r}return Object.defineProperty(e.prototype,"lastModifiedDate",{get:function(){return this._lastModifiedDate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataURL",{get:function(){return this._dataURL},enumerable:!0,configurable:!0}),e}(),r=function(){function e(e,i){this.el=e,this.renderer=i,this.accept="",this.filePick=new t.EventEmitter}return Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=i(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.input=this.renderer.createElement("input"),this.renderer.appendChild(this.el.nativeElement,this.input),this.renderer.setAttribute(this.input,"type","file"),this.renderer.setAttribute(this.input,"accept",this.accept),this.renderer.setStyle(this.input,"display","none"),this.multiple&&this.renderer.setAttribute(this.input,"multiple","multiple"),this.renderer.listen(this.input,"change",function(t){for(var i=0,n=t.target.files;i<n.length;i++){var r=n[i];e.readFile(r)}})},e.prototype.reset=function(){if(!this.input)return void console.error("It seems that ngOnInit() has not been executed or that the hidden input element is null. Did you mess with the DOM?");this.input.value=null},e.prototype.browse=function(){if(!this.input)return void console.error("It seems that ngOnInit() has not been executed or that the hidden input element is null. Did you mess with the DOM?");this.input.click()},e.prototype.readFile=function(e){var t=this,i=new FileReader;i.onload=function(i){var r=i.target,o=new n(e.lastModifiedDate,e.name,e.size,e.type,r.result);t.filePick.emit(o)},i.readAsDataURL(e)},e}();r.decorators=[{type:t.Directive,args:[{selector:"[ngFilePicker]"}]}],r.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},r.propDecorators={accept:[{type:t.Input}],multiple:[{type:t.Input}],filePick:[{type:t.Output}],browse:[{type:t.HostListener,args:["click"]}]};var o=function(){function e(){}return e}();o.decorators=[{type:t.NgModule,args:[{declarations:[r],exports:[r]}]}],o.ctorParameters=function(){return[]},e.FilePickerModule=o,e.FilePickerDirective=r,Object.defineProperty(e,"__esModule",{value:!0})});